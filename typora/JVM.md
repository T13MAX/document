# 深入理解Java虚拟机

## 第一部分 走进Java

### 第一章 



## 第二部分 自动内存管理

### 第二章 Java内存区域与内存溢出

堆栈方法区

### 第三章 垃圾收集器与内存分配策略

引用计数 可达性分析

强new 软 SoftReference 弱WeekReference 虚 回收时收到通知\

finalize()

强分代假说 若分代假说 跨代引用假说

标记整理 标记清除 复制

根节点枚举 安全点 安全区域 记忆集 卡婊 写屏障 并发可达性分析

增量更新 新插入的记录下来

原始快照 要删除的记录下来

Serial Serial Old 单线程

ParNew(Sereial 多线程版本) CMS(初始标记 并发标记 重新标记 并发清除) 最短停顿时间

Parallel Parallel Old 吞吐量

G1 Region 筛选回收

Shenandoah 转发指针 读屏障

ZGC 染色指针 自愈

Epsilon 管理与布局 对象分配 解释器编译器的协作 监控子系统协作	

### 第四章



### 第五章



## 第三部分 虚拟机执行子系统

### 第六章 类文件结构



### 第七章 虚拟机类加载机制

加载 通过权限定名获取二进制字节流 静态结构转为方法去的运行时数据结构 生成java.lang.Class对象

验证 符合 java虚拟机规范 的要求 不会伤害虚拟机 格式 元数据 字节码 符号引用

准备 分配初始值 0值

解析 符号引用替换为直接引用 检查可访问性

初始化 执行类构造器

使用 

卸载

Bootstrap Class Loader 

Extension Class Loader 

Application Class Loader

User Class Loader

### 第八章 虚拟机字节码执行引擎

运行时栈帧结构: 局部变量表 操作数栈 动态连接 方法返回地址

重载 静态多分派

重写 动态单分派

### 第九章 



## 第四部分 程序编译与代码优化

### 第十章 前端编译优化

插入式注解处理器

init clinit

语法糖 泛型 擦除

拆箱 装箱

### 第十一章 后端编译优化

触发条件: 多次调用的方法 被多次执行的循环体

基于采样的热点探测 容易受外界影响 阻塞等

基于计数器的热点探测 为每个方法维护计数器 无法获取调用关系  方法调用计数器 回边计数器

提前编译器

方法内联 冗余访问消除(公共子表达式消除) 复写传播 无用代码消除

守护内联 多态 虚方法 非虚方法

逃逸分析 栈上分配 标量替换 同步消除

## 第五部分 高效并发

### 第十二章 Java内存模型与线程

lock unlock read load use assign store write

long double 非原子协定性

协同式 抢占式

### 第十三章 线程安全与锁优化

CAS ABA问题

适应性自旋 锁消除 锁粗化 轻量级锁 偏向锁

自旋 自适应自旋



# There's nothing I can't do but what I don't want to do

